using TerraAngel.Net;

namespace TerraAngel.Tools.Exploit;

public class MsgUpdateSign : Tool
{
    public override string Name => GetString("Msg Update Sign");
    public override ToolTabs Tab => ToolTabs.MiscTools;

    public bool IsExploiting;
    public float SendTimer;

    public override void DrawUI(ImGuiIOPtr io)
    {
        if (ImGui.CollapsingHeader(GetString("Msg Update Sign")))
        {
            ImGui.Checkbox(GetString("Exploit Current Sign"), ref IsExploiting);
        }
    }

    public override void Update()
    {
        SendTimer -= Time.DrawDeltaTime;
        if (SendTimer > 0.0f)
            return;
        SendTimer = 10.0f;
        
        if (IsExploiting && Main.player[Main.myPlayer].sign is >= 0 and < Sign.maxSigns)
        {
            SpecialNetMessage.SendUpdateSignExploit(Main.player[Main.myPlayer].sign, 1000);
        }
    }
}